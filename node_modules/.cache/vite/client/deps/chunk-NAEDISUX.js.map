{
  "version": 3,
  "sources": ["../../../../vidstack/dev/chunks/vidstack-MEtfBj9Q.js"],
  "sourcesContent": ["import { H as Host, g as effect, s as setAttribute, q as computed } from './vidstack-CPyWhQNM.js';\nimport { c as MediaProvider, d as MediaPlayer } from './vidstack-C0WpKrrj.js';\nimport './vidstack-CCzOi1rX.js';\nimport { u as useMediaContext } from './vidstack-B18nf2ni.js';\nimport './vidstack-Ckf8G9lg.js';\nimport './vidstack-B7p3DDPV.js';\n\nclass MediaProviderElement extends Host(HTMLElement, MediaProvider) {\n  constructor() {\n    super(...arguments);\n    this._target = null;\n    this._blocker = null;\n  }\n  static {\n    this.tagName = \"media-provider\";\n  }\n  onSetup() {\n    this._media = useMediaContext();\n    this.setAttribute(\"keep-alive\", \"\");\n  }\n  onDestroy() {\n    this._blocker?.remove();\n    this._blocker = null;\n    this._target?.remove();\n    this._target = null;\n  }\n  onConnect() {\n    effect(() => {\n      const loader = this.$state.loader(), isYouTubeEmbed = loader?.name === \"youtube\", isVimeoEmbed = loader?.name === \"vimeo\", isEmbed = isYouTubeEmbed || isVimeoEmbed, isGoogleCast = loader?.name === \"google-cast\";\n      const target = loader ? isGoogleCast ? this._createGoogleCastContainer() : isEmbed ? this._createIFrame() : loader.mediaType() === \"audio\" ? this._createAudio() : this._createVideo() : null;\n      if (this._target !== target) {\n        const parent = this._target?.parentElement ?? this;\n        this._target?.remove();\n        this._target = target;\n        if (target)\n          parent.prepend(target);\n        if (isEmbed && target) {\n          effect(() => {\n            const { nativeControls, viewType } = this._media.$state, showNativeControls = nativeControls(), isAudioView = viewType() === \"audio\", showBlocker = showNativeControls && !isAudioView;\n            if (showBlocker) {\n              this._blocker = this.querySelector(\".vds-blocker\");\n              if (!this._blocker) {\n                this._blocker = document.createElement(\"div\");\n                this._blocker.classList.add(\"vds-blocker\");\n                target.after(this._blocker);\n              }\n            } else {\n              this._blocker?.remove();\n              this._blocker = null;\n            }\n            setAttribute(target, \"data-no-controls\", !showNativeControls);\n          });\n        }\n      }\n      if (isYouTubeEmbed)\n        target?.classList.add(\"vds-youtube\");\n      else if (isVimeoEmbed)\n        target?.classList.add(\"vds-vimeo\");\n      if (!isEmbed) {\n        this._blocker?.remove();\n        this._blocker = null;\n      }\n      this.load(target);\n    });\n  }\n  _createAudio() {\n    const audio = this._target instanceof HTMLAudioElement ? this._target : document.createElement(\"audio\");\n    setAttribute(audio, \"preload\", \"none\");\n    setAttribute(audio, \"aria-hidden\", \"true\");\n    const { controls, crossOrigin } = this._media.$state;\n    effect(() => {\n      setAttribute(audio, \"controls\", controls());\n      setAttribute(audio, \"crossorigin\", crossOrigin());\n    });\n    return audio;\n  }\n  _createVideo() {\n    const video = this._target instanceof HTMLVideoElement ? this._target : document.createElement(\"video\");\n    const { crossOrigin, poster, nativeControls } = this._media.$state, $controls = computed(() => nativeControls() ? \"true\" : null), $poster = computed(() => poster() && nativeControls() ? poster() : null);\n    effect(() => {\n      setAttribute(video, \"controls\", $controls());\n      setAttribute(video, \"crossorigin\", crossOrigin());\n      setAttribute(video, \"poster\", $poster());\n    });\n    return video;\n  }\n  _createIFrame() {\n    const iframe = this._target instanceof HTMLIFrameElement ? this._target : document.createElement(\"iframe\"), { nativeControls } = this._media.$state;\n    effect(() => setAttribute(iframe, \"tabindex\", !nativeControls() ? -1 : null));\n    return iframe;\n  }\n  _createGoogleCastContainer() {\n    if (this._target?.classList.contains(\"vds-google-cast\")) {\n      return this._target;\n    }\n    const container = document.createElement(\"div\");\n    container.classList.add(\"vds-google-cast\");\n    import('./vidstack-Ij-cPHV8.js').then(({ insertContent }) => {\n      insertContent(container, this._media.$state);\n    });\n    return container;\n  }\n}\n\nclass MediaPlayerElement extends Host(HTMLElement, MediaPlayer) {\n  static {\n    this.tagName = \"media-player\";\n  }\n  static {\n    this.attrs = {\n      autoPlay: \"autoplay\",\n      crossOrigin: \"crossorigin\",\n      playsInline: \"playsinline\",\n      preferNativeHLS: \"prefer-native-hls\",\n      minLiveDVRWindow: \"min-live-dvr-window\"\n    };\n  }\n}\n\nexport { MediaProviderElement as M, MediaPlayerElement as a };\n"],
  "mappings": "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",
  "names": ["_a"]
}
